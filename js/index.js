!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WEBPACK_GLOBAL=e():t.WEBPACK_GLOBAL=e()}(this,()=>(()=>{"use strict";const r={classesLayout:"popup-layout",attrLayout:"data-popup-layout",attrPopup:"data-popup",attrBody:"data-popup-body",attrBtnShow:"data-popup-id",attrBtnClose:"data-popup-close",attrOffsetPadding:"data-popup-offset-padding",layout:null,speed:200,widthScrollbar:0},a=t=>t&&(t="string"==typeof t?document.body.querySelector(t):t)instanceof Element?t:null,l=t=>{"Escape"===t.key&&(t=document.body.querySelector(`.active[${r.attrPopup}]`))&&h(t)},d=e=>{var t=document.body.querySelectorAll(`[${r.attrOffsetPadding}]`);t.length&&t.forEach(t=>{"fixed"===window.getComputedStyle(t).position&&(e?t.style.paddingRight=e+"px":t.style.removeProperty("padding-right"))})},h=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if((t=a(t))&&t.classList.contains("active")){const s=document.body;t.classList.remove("active"),s.removeEventListener("click",c),window.removeEventListener("keydown",l),e||(r.layout.classList.remove("active"),setTimeout(()=>{d(0),t.style.removeProperty("padding-right"),t.style.removeProperty("padding-left"),s.style.removeProperty("overflow"),s.style.removeProperty("padding-right")},r.speed))}},c=t=>{var t=t.target,e=t.closest(`[${r.attrBody}]`),s=t.closest(`[${r.attrBtnClose}]`);e&&!s||(e=t.closest(`[${r.attrPopup}]`),h(e))},i=()=>{var t=document.body.querySelectorAll(`[${r.attrPopup}]`);t.length&&t.forEach(t=>{var n;n=t,(n=a(n))&&(t=n.id,(t=document.body.querySelectorAll(`[${r.attrBtnShow}="${t}"]`)).length)&&t.forEach(o=>{o.addEventListener("click",t=>{t.preventDefault();var e,s,i,t=o.closest(`[${r.attrPopup}]`);t&&h(t,!0),t=n,(t=a(t))&&(s=(e=document.body).querySelector(`.active[${r.attrPopup}]`),r.layout||((i=document.createElement("div")).setAttribute(r.attrLayout,""),i.classList=r.classesLayout,document.body.append(i),r.layout=i),r.layout&&r.layout.classList.contains("active")||(i=document.body,r.widthScrollbar=window.innerWidth-document.documentElement.clientWidth,i.style.paddingRight=r.widthScrollbar+"px"),d(r.widthScrollbar),r.widthScrollbar&&t.scrollHeight===t.offsetHeight&&(t.style.paddingRight=r.widthScrollbar+"px"),!r.widthScrollbar&&t.scrollHeight>t.offsetHeight&&(t.style.paddingLeft=t.offsetWidth-t.clientWidth+"px"),s&&h(s,!0),e.style.overflow="hidden",r.layout.classList.add("active"),t.classList.add("active"),e.addEventListener("click",c),window.addEventListener("keydown",l))})})})},s=t=>t&&(t="string"==typeof t?document.body.querySelector(t):t)instanceof Element?t:null,o={ac:"data-ac",item:"data-ac-item",button:"data-ac-button",wrapper:"data-ac-wrapper",body:"data-ac-body"},p={ac:`[${o.ac}]`,item:`[${o.item}]`,button:`[${o.button}]`,wrapper:`[${o.wrapper}]`,body:`[${o.body}]`},n={duration:200,timing:"linear",delayBeforeClose:0};class m{_hasInit=!1;_isBodyOpen=!0;_valids=!0;_buttons=[];_wrapper=null;_body=null;_events={click:[],keydown:[]};onOpen=null;onClose=null;onChange=null;constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._elem=s(t),this._options={...n,...e},this._init()}get isOpen(){return this._isBodyOpen}get getItem(){return this._elem}destroy(){if(!this._hasInit)return"Экземпляр не активен!";for(let t=0;t<this._buttons.length;t++)this._buttons[t].classList.remove("active");this._body.classList.remove("active"),this._removeAllStyles(),this._removeAllEvents(),this._hasInit=!1,this._isBodyOpen=!0}init(){if(this._hasInit)return"Экземпляр активен!";this._open(),this._setStyleBody(),this._setEvents(),this._hasInit=!0}open=()=>(this._hasInit&&this._open(),"Экземпляр не активен!");close=()=>(this._hasInit&&this._close(),"Экземпляр не активен!");_removeAllStyles=()=>{var t=this._wrapper.style,e=this._body.style;t.removeProperty("transition-delay"),t.gridTemplateRows="1fr",e.removeProperty("display"),e.removeProperty("padding-top"),e.removeProperty("padding-bottom"),e.removeProperty("margin-top"),e.removeProperty("margin-bottom"),e.removeProperty("border-top-width"),e.removeProperty("border-bottom-width"),e.removeProperty("transition-duration"),e.removeProperty("transition-property"),e.removeProperty("transition-timing-function"),e.removeProperty("overflow"),this._isBodyOpen=!0};_getAllElements=()=>{var t=this._elem.querySelectorAll(p.button),e=function(t,e){var t=0<arguments.length&&void 0!==t?t:200,e=1<arguments.length&&void 0!==e?e:"linear",s=document.createElement("div");return s.setAttribute(o.wrapper,""),s.style.display="grid",s.style.gridTemplateRows="1fr",s.style.transitionDuration=t+"ms",s.style.transitionProperty="grid-template-rows",s.style.transitionTimingFunction=e,s}(this._options.duration,this._options.timing),s=this._elem.querySelector(p.body);this._elem&&t.length&&s||(this._valids=!1),this._buttons=Array.from(t),this._wrapper=e,this._body=s};_closestParent=()=>{const e=this._elem.closest(p.ac);e&&(this._buttons=this._buttons.filter(t=>{t=t.closest(p.ac);return e===t}))};_setStyleBody=()=>{this._body.style.overflow="hidden",this._body.style.transitionDuration=this._options.duration+"ms",this._body.style.transitionProperty="padding, margin, border, background, border-color, color, opacity, visibility, transform",this._body.style.transitionTimingFunction=this._options.timing};_open=()=>{var t=this._wrapper.style,e=this._body.style;for(let t=0;t<this._buttons.length;t++)this._buttons[t].classList.add("active");this._elem.classList.add("active"),this._body.classList.add("active"),this._isBodyOpen||(t.removeProperty("transition-delay"),t.gridTemplateRows="1fr",e.removeProperty("padding-top"),e.removeProperty("padding-bottom"),e.removeProperty("margin-top"),e.removeProperty("margin-bottom"),e.removeProperty("border-top-width"),e.removeProperty("border-bottom-width"),this._isBodyOpen=!0,this.onOpen instanceof Function&&this.onOpen(this._elem,this))};_close=()=>{var t=this._wrapper.style,e=this._body.style;for(let t=0;t<this._buttons.length;t++)this._buttons[t].classList.remove("active");t.transitionDelay=this._options.delayBeforeClose+"ms",t.gridTemplateRows="0fr",this._elem.classList.remove("active"),this._body.classList.remove("active"),this._isBodyOpen&&(e.paddingTop="0px",e.paddingBottom="0px",e.marginTop="0px",e.marginBottom="0px",e.borderTopWidth="0px",e.borderBottomWidth="0px",this._isBodyOpen=!1,this.onClose instanceof Function)&&this.onClose(this._elem,this)};_handleClickButton=()=>{this._isBodyOpen?this._close():this._open(),this.onChange instanceof Function&&this.onChange(this)};_handleKeydownButton=t=>{"Enter"===t.key&&(this._isBodyOpen?this._close():this._open(),this.onChange instanceof Function)&&this.onChange(this)};_setEvents=()=>{for(let t=0;t<this._buttons.length;t++){var e=this._buttons[t];e.addEventListener("click",this._handleClickButton),e.addEventListener("keydown",this._handleKeydownButton),this._events.click.push([e,this._handleClickButton]),this._events.keydown.push([e,this._handleKeydownButton])}};_removeAllEvents=()=>{for(const n in this._events){var e=this._events[n],s=e.length;if(s)for(let t=0;t<s;t++){var[i,o]=e[t];i.removeEventListener(n,o)}}};_addWrapperInPage=()=>{this._body.insertAdjacentElement("beforebegin",this._wrapper),this._wrapper.append(this._body),this._body.style.removeProperty("display")};_setInitClasses=()=>{for(let t=0;t<this._buttons.length;t++)this._buttons[t].classList.add("active");this._elem.classList.add("active"),this._body.classList.add("active"),this._isBodyOpen=!0};_init=()=>{this._getAllElements(),this._valids&&(this._closestParent(),this._setInitClasses(),this._setStyleBody(),this._addWrapperInPage(),this._setEvents(),this._hasInit=!0)}}const _={duration:200,timing:"linear",delayBeforeClose:0,initAllOpen:!1,initActive:!1,manyActive:!1,breakpoint:null};class y{_hasInit=!1;_items=[];_acItems=[];onRemoveItemsEnd=null;onUpdatedItems=null;constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._elem=s(t),this._options={..._,...e},this._mainInit()}get getItems(){return this._items}destroy=()=>this._destroy();init=()=>this._init();updateItems=(()=>{var l=this;return function(){var s=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(l._hasInit){let e=!1;var i=l._elem.querySelectorAll(p.item);if(i.length){var o=Array.from(l._items),n=[...o];for(let t=0;t<i.length;t++){var r=i[t],a=r.closest(p.ac);o.includes(r)||a!==l._elem||(e=!0,a=new m(r,l._options),s||a.close(),a.onChange=l._handleToggleStateItems,n.push(r),l._acItems.push(a))}e&&(l._items=n,l.onUpdatedItems instanceof Function)&&l.onUpdatedItems(l)}}}})();openSelect=t=>{this._hasInit&&this._openSelect(t)};removeItems=s=>{if(Array.isArray(s)||!isNaN(+s)){Array.isArray(s)||(s=String(s));const i=[],t=this._acItems.filter((t,e)=>{if(!s.includes(e))return i.push(t.getItem),!0;t.getItem.remove()});this._items=i,this._acItems=t,this.onRemoveItemsEnd instanceof Function&&this.onRemoveItemsEnd(this)}};someOpenItems=t=>{Array.isArray(t)&&this._hasInit&&(this._options.initActive=t,this._someActiveItems())};on=(t,e)=>{if(e instanceof Function){var s=this._acItems;switch(t){case"open":s.forEach(t=>t.onOpen=e);break;case"close":s.forEach(t=>t.onClose=e);break;case"updatedItems":this.onUpdatedItems=e;break;case"removeItemsEnd":this.onRemoveItemsEnd=e}}};_handleToggleStateItems=e=>{var s=this._options["manyActive"];for(let t=0;t<this._acItems.length;t++){var i=this._acItems[t];e===i||s||i.close()}};_getItems=()=>{var e=this._elem.querySelectorAll(p.item);if(e.length)for(let t=0;t<e.length;t++){var s,i=e[t];i.closest(p.ac)===this._elem&&((s=new m(i,this._options)).onChange=this._handleToggleStateItems,this._items.push(i),this._acItems.push(s))}};_openSelect=t=>{const e=this._options["initActive"],s=this._acItems[t];if(s&&(s.open(),e||!(e<0)))for(let t=0;t<this._acItems.length;t++){const e=this._acItems[t];e!==s&&e.close()}};_closeAllItem=()=>{var e=this._acItems.length;if(e)for(let t=0;t<e;t++)this._acItems[t].close()};_someActiveItems=()=>{var e=this._options.initActive;if(Array.isArray(e)){var s=new Set;for(let t=0;t<e.length;t++){var i=e[t],i=this._acItems[i];i&&s.add(i)}for(let t=0;t<this._acItems.length;t++){var o=this._acItems[t];s.has(o)?o.open():o.close()}}};_initOpen=()=>{var{initAllOpen:t,initActive:e}=this._options;if(!t)if(!1===(t||e))this._closeAllItem();else if(Array.isArray(e))this._someActiveItems();else{let t=0;0<=(t="number"==typeof e?this._acItems[e]?e:0:t)&&this._openSelect(t)}};_destroy=()=>{this._hasInit&&(this._acItems.forEach(t=>{t.destroy()}),this._hasInit=!1)};_init=()=>{this._hasInit||(this._acItems.forEach(t=>{t.init()}),this._initOpen(),this._hasInit=!0,this.updateItems())};_breakpoint=()=>{this._hasInit=!0;var t=this._options.breakpoint;if(!t||!t.min&&!t.max)return;const{min:e=0,max:s=99999}=t,i=()=>{var t=document.body.offsetWidth,t=t>e&&t<s;t&&!this._hasInit?(this._init(),this._hasInit=!0):!t&&this._hasInit&&(this._destroy(),this._hasInit=!1)};i(),window.addEventListener("resize",()=>{i()})};_mainInit=()=>{this._elem&&(this._getItems(),this._items.length)&&(this._initOpen(),this._breakpoint())}}{const t=document.querySelector("[data-preload-page]"),e=document.querySelectorAll("[data-preload-page-status]");t&&window.addEventListener("load",()=>{setTimeout(()=>{t.classList.remove("visible"),e.length&&setTimeout(()=>{for(let t=0;t<e.length;t++)e[t].classList.add("ready")},300)},1e3)})}return document.addEventListener("DOMContentLoaded",t=>{i();{const e=document.querySelectorAll("[data-ac-default]"),s=t=>{t.querySelectorAll(".iframe-video iframe").forEach(t=>{t.src.includes("rutube")&&t.contentWindow.postMessage(JSON.stringify({type:"player:pause",data:{}}),"*")})};e.forEach(t=>{new y(t).on("close",s)})}}),{}})());